.\" generated by $Id: snopea.sno,v 1.33 2015/01/02 03:31:20 phil Exp $
.if n .ad l
.ie '\*[.T]'ascii' \{\
.	ds lq \&"\"
.	ds rq \&"\"
.	ds pi \fIpi\fP
.\}
.el \{\
.	ds rq ''
.	ds lq ``
.	ds pi \[*p]
.\}
.nh
.TH SNOBOL4 1 "January 1, 2015" "CSNOBOL4B 2.0" "CSNOBOL4 Manual"
.SH "NAME"
.nh
snobol4 \- SNOBOL4 interpreter
.SH "DESCRIPTION"
.nh
This manual page describes CSNOBOL4, a port of the original Bell
Telephone Labs (BTL) Macro Implementation of SNOBOL4 to the C
language.
.PP
The language and its implementation are described in
[Griswold1971] 
and 
[Griswold1972]. 
.PP
For command line options see \fBsnobol4cmd\fP(1).
.PP
Extensions from Catspaw SNOBOL4+, SPITBOL and SITBOL have
been added, see \fBsnobol4ext\fP(1).
.SS "Changes"
.nh
The following behaviors have been changed from the original Macro SNOBOL4
in ways that might effect old programs:
.TP 4
\fBINTEGER\fP exceptions
\fBINTEGER\fP math can never cause expression failure.
.TP 4
Listings are disabled by default
Default listing side (when enabled by \fB-LIST\fP or the \fB-l\fP command
line option is \fBLEFT\fP.  Listings are directed to standard error
(or file specified by the \fB-l\fP command line option.
.TP 4
Messages
The the startup banner and statistics (if enabled) are directed to standard error.
.IP
Compilation error messages (including erroneous lines) appear on
standard error. Error messages reference the source file name and line number.
.TP 4
Character set
see below.
.TP 4
\fBINPUT()\fP and \fBOUTPUT()\fP
FORTRAN formats are not used to control I/O.
The 3rd argument to the \fBOUTPUT()\fP and \fBINPUT()\fP
functions is interpreted as a string of I/O options,
The 4th argument is used to specify a file name,
see \fBsnobol4io\fP(1) for details.
.TP 4
\fBPUNCH\fP variable
The \fBPUNCH\fP output variable no longer exists,
the \fBTERMINAL\fP variable has been added in it's place,
see \fBsnobol4io\fP(1).
.TP 4
Statement separator
Control lines and comment characters are valid after the 
(\fB;\fP) statement separator.  Listing statement numbers show the statement
number of the LAST statement on the line (rather than the first).
.TP 4
\fB&STLIMIT\fP
\fB&STLIMIT\fP defaults to -1, see \fBsnobol4key\fP(1).
.TP 4
Tracing
\fBVALUE\fP tracing applies to variables modified by immediate value
assignment (\fB$\fP operator) and value assignment (\fB.\fP operator) during
pattern matching.
.SS "Extensions"
.nh
Further additions are documented in \fBsnobol4ext\fP(1).
.SS "Character set"
.nh
\fBsnobol4\fP(1) is 8-bit clean, and uses the native character set.  Any
8-bit byte is accepted as a SNOBOL datum or in a string constant of a
SNOBOL source program.  The value of the SNOBOL protected keyword
\fB&ALPHABET\fP is a 256-character string of all bytes from 0 to 255,
in ascending order.
.PP
On ASCII-based systems, any character with the 8th bit set is treated
as \*(lqalphabetic\*(rq, and can start, or be used in identifiers and
labels.  This includes characters from the \*(lqupper half\*(rq of national
character sets and all bytes resulting from the UTF-8 encoding of
Unicode characters.  Include file \fButf.sno\fP implements
pattern matching functions for UTF-8 sequences.
.PP
Programs may be entered in mixed case; By default lower case
identifiers are folded to upper case (see \fB&CASE\fP and \fB\-CASE\fP).
Case folding is performed by using the C library
\fBislower\fP(3) test, and then using \fBtoupper\fP(3) to convert the
lower-case characters to upper case.  When using UTF-8 encoded
characters in code, case folding should be disabled, to prevent any
bytes which appear to be lower case in the current locale from being
modified.
.PP
The following operator character sequences are permitted and represent
a cross between PDP-10 Macro SNOBOL, SITBOL and Catspaw SPITBOL usage:
.PP
.ta 2i
.nf
Exponentiation:	^\~\~**
Alternation:	|\~\~!
Unary negation:	~\~\~\e
Assignment:	=\~\~_
Comment line:	*\~\~#\~\~|\~\~;\~\~!
Continuation line:	+\~\~.
.fi
.PP
Both square brackets (\fB[]\fP) and angle brackets (\fB<>\fP) may be
used to subscript arrays and tables.  The \fBTAB\fP (ASCII 9) character
is accepted as whitespace.
.PP
Underscore (\fB_\fP) and period (\fB.\fP) are legal \fIwithin\fP identifiers
and labels.
.PP
Note that the use of the pound sign for comments allows use of the
script interpreter (hash-bang) sequence at the top of a file marked as
executable: \*(lq\fB#!/usr/local/bin/snobol4\fP\*(rq or
\*(lq\fB#!/usr/bin/env snobol4\fP\*(rq
.SH "DIRECTORY SEARCH LIST"
.nh
A directory search list is used for files specified in \fB-INCLUDE\fP
directives and \fBLOAD()\fP function calls is constructed from:
.PP
Any directories specified on the command line using \fB-I\fP options, in
the order specified.
.PP
Directories from the the \fBSNOPATH\fP environment variable (see below), if defined.
.PP
If \fBSNOPATH\fP is not defined, the \fBSNODIR\fP environment variable (or a
compiled in default) is used as \fIbase\fP to add the following
directories:
.IP \(bu
\fB.\fP \fI(the current working directory)\fP
.IP \(bu
\fIbase\fP/\fIversion\fP/\fBlib\fP
.IP \(bu
\fIbase\fP/\fIversion\fP/\fBlocal\fP
.IP \(bu
\fIbase\fP/\fBlocal\fP
.PP
The \fBLOAD()\fP function will also check for the file in \fBshared\fP
subdirectory in each directory in the search path.
.SH "ENVIRONMENT"
.nh
.TP 4
\fBSNOPATH\fP
Is a list of directories delimited by colons (semi-colons on VMS and
Windows) appended to the Directory Search List (see above).
.TP 4
\fBSNOLIB\fP
\fBSNOLIB\fP is used to establish the base libary path if
\fBSNOPATH\fP is not defined.  See Directory Search List above.
\fBSNOLIB\fP was the sole search directory in versions of CSNOBOL4 prior
to version 1.5.
.TP 4
\fBSNOBOL_PRELOAD_PATH\fP
Is a list of source files delimited by colons (semi-colons on VMS and
Windows) that will be read before the program source.
Using \fBSNOBOL_PRELOAD_PATH\fP will make your code less portable.
.SH "SEE ALSO"
.nh
.PP
.ta 2i
.nf
\fBsdb\fP(1)	SNOBOL4 Debugger
\fBsnobol4cmd\fP(1)	command line options
\fBsnobol4ctrl\fP(1)	control lines
\fBsnobol4error\fP(1)	\fB&ERRTYPE\fP and \fB&ERRTEXT\fP values
\fBsnobol4ext\fP(1)	extensions to BTL SNOBOL4
\fBsnobol4func\fP(1)	built-in function list
\fBsnobol4io\fP(1)	input/output
\fBsnobol4key\fP(1)	keywords
\fBsnobol4op\fP(1)	operators
\fBsnobol4blocks\fP(1)	SNOBOL4B BLOCKS extension
\fBsnopea\fP(1)	convert snopea documentation to roff and HTML
\fBsnobol4dirs\fP(3)	directory access functions
\fBsnobol4ffi\fP(3)	Foreign Function Interface functions
\fBsnobol4fork\fP(3)	subprocess interface functions
\fBsnobol4logic\fP(3)	bit logic & formatting functions
\fBsnobol4ndbm\fP(3)	keyed file access functions
\fBsnobol4random\fP(3)	pseudo-random numbers functions
\fBsnobol4readline\fP(3)	input with line editing
\fBsnobol4setup\fP(3)	loadable module builder
\fBsnobol4sprintf\fP(3)	formatting function
\fBsnobol4sqlite3\fP(3)	SQLite database interface functions
\fBsnobol4sqlite3dbm\fP(3)	DBM interface using SQLite
\fBsnobol4stat\fP(3)	file metadata functions
\fBsnobol4stcl\fP(3)	Tcl/Tk interface functions
\fBsnobol4time\fP(3)	date/time functions
\fBsnolib\fP(3)	misc library functions
\fBsnopea\fP(7)	A little \*(lqPlain Old Documentation\*(rq format for SNOBOL4
.fi
.TP 4
http://www.snobol4.org
All things SNOBOL4 related.
.TP 4
http://www.snobol4.com
Catspaw: commercial SPITBOL implementations, Free SNOBOL4+ for DOS.
.TP 4
http://www.snobol4.org/doc/burks/tutorial/contents.htm
SNOBOL4 language tutorial (from Catspaw Vanilla SNOBOL4)
.TP 4
[Griswold1971]
R. E. Griswold, J. F. Poage, and I. P. Polonsky,
\fIThe SNOBOL4 Programming Language\fP, 2nd ed., Prentice-Hall Inc., 1971.
\fI(aka the \*(lqgreen book\*(rq)\fP
http://www.snobol4.org/docs/books.html#green
.TP 4
[Griswold1972]
R. E. Griswold,
\fIThe Macro Implementation of SNOBOL4\fP, W. H. Freeman and Co., 1972.
Book describing the implementation techniques used in Macro SNOBOL4.
http://www.snobol4.org/docs/books.html#macro
.TP 4
http://www.snobol4.org/doc/burks/manual/contents.htm
Catspaw Vanilla SNOBOL4 manual.
.TP 4
ftp://ftp.snobol4.com/spitman.pdf
Catspaw Macro SPITBOL manual
.TP 4
http://www.snobol4.org/docs/books.html#orange
\fIAlgorithms in SNOBOL4\fP, James F. Gimpel, Wiley, New York, 1976.
.SH "AUTHORS"
.nh
Ralph E. Griswold, James F. Poage, Ivan P. Polonsky, et al (Macro SNOBOL4)
.PP
Philip. L. Budne (CSNOBOL4)
.PP
Mark Emmer (code from SNOBOL4+)
.PP
Viktors Berstis (code from Minnesota SNOBOL4)
.PP
James F. Gimpel (SNOBOL4B)
.SH "BUGS"
.nh
I/O is still tied to unit numbers.
.PP
I/O retains some record oriented flavor (maximum line length on input).
.PP
\*(lqDynamic\*(rq storage cannot be expanded after startup.
.PP
Integer math can never fail, even on overflow.
.PP
Oversize integer constants may not be detected.

<!-- generated by $Id: snopea.sno,v 1.33 2015/01/02 03:31:20 phil Exp $ -->
<html>
<head>
<title>SNOBOL4FFI(3) | CSNOBOL4B 2.0 | January 1, 2015</title>
</head>
<body>
<h1>SNOBOL4FFI(3) | CSNOBOL4B 2.0 | January 1, 2015</h1>
<h2>NAME</h2>
snobol4ffi &ndash; Foreign Function Interface for SNOBOL4
<h2>SYNOPSYS</h2>
<pre>
-INCLUDE 'ffi.sno'
        dl = FFI_DLOPEN("/usr/lib/libm.so")
        sym = FFI_DLSYM(dl, "hypot")
        DEFINE_FFI("hypot(double,double)double", sym)
        OUTPUT = hypot(3, 4)
</pre>
<h2>DESCRIPTION</h2>
<dl>
<p>
<dt>
<B>FFI_DLOPEN(</B><I>filename</I><B>)</B>
<dd>
takes the path of a dynamicly loadable
executable file and returns a value
which can be passed to <B>FFI_DLSYM()</B>.
<p>
<dt>
<B>FFI_DLSYM(</B><I>library</I>,<I>function</I><B>)</B>
<dd>
takes a <I>library</I> value
returned by <B>FFI_DLOPEN()</B>, and a function name, and returns a
value which can be passed to <B>DEFINE_FFI()</B>.
<p>
<dt>
<B>DEFINE_FFI(</B><I>prototype</I>,<I>pointer</I><B>)</B>
<dd>
defines a SNOBOL4 function that calls an external function via <B>ffi</B>(3).
<I>prototype</I> contains a string name for the function followed
by a comma separated list of parameter types inside of parenthesis
(any of:
<B>sint8</B>, <B>sint16</B>, <B>sint32</B>, <B>sint64</B>,
<B>uint8</B>, <B>uint16</B>, <B>uint32</B>, <B>uint64</B>,
<B>schar</B>, <B>sshort</B>, <B>sint</B>, <B>slong</B>,
<B>uchar</B>, <B>ushort</B>, <B>uint</B>, <B>ulong</B>,
<B>float</B>, <B>double</B>, <B>longdouble</B>, <B>pointer</B>),
followed by a return type, which can be
any of the above parameter types, or
<B>void</B>, <B>string</B>, <B>freestring</B>.
<I>pointer</I> is a value returned by <B>FFI_DLSYM()</B>.
</dl>
<h2>SEE ALSO</h2>
<a href="snobol4.1.html"><B>snobol4</B>(1)</a>, <B>ffi</B>(3), <B>dlopen</B>(3)
<h2>AUTHOR</h2>
Philip L. Budne
</body>
</html>
